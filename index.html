<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>График успеваемости</title>
    <link rel="stylesheet" href="stylesheets/index.css">
    <script src="javascripts/d3.v4.min.js"></script>
</head>
<body>

    <div class="output"></div>
    <div class="settingsRef"><a href="settings.html">Перейти на страницу настроек</a></div>

    <script type="module">
        import ("./javascripts/charts.js").then((chart) => {

            const maxWidth = 1000;
            const maxHeight = 420;

            let margin = {top: 10, right: 60, bottom: 60, left: 90},
                aspect = innerWidth / innerHeight,
                width = innerWidth - 100 - margin.left - margin.right,
                height = width / aspect - margin.top - margin.bottom;

            width = width > maxWidth ? maxWidth : width;
            height = height > maxHeight ? maxHeight : height;

            let chartType = localStorage.getItem("chartType");

            switch (chartType) {
                case "0":
                    new chart.LinearChart(margin, width, height).draw();
                    break;
                case "1":
                    new chart.BarplotChart(margin, width, height).draw();
                    break;
            }
        });

    </script>
</body>
</html>